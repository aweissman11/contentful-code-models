# Run code formatting first
echo "ğŸ¨ Running code formatter..."
npm run format

# Check if formatting changed any files
if [ -n "$(git diff --name-only)" ]; then
  echo "âŒ Code formatting made changes. Please stage the formatted files and commit again."
  echo "Files that were formatted:"
  git diff --name-only
  exit 1
fi

# Run tests with coverage
echo "ğŸ§ª Running tests with coverage..."
npm run test:coverage

echo "âœ… All pre-commit checks passed!"
